!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(e){n(this,t),this.app=e,this.searching=!1;var r=$.get("/airlines");$.when(r).done(function(t){this.airlines=t}.bind(this))}return a(t,[{key:"searchFlights",value:function(){var t=this;this.searching||function(){t.searching=!0,t.app.results.hideTabs(),t.app.results.showLoader(),$("#btn-search-flight").attr("disabled","disabled");for(var e=t.getQuery(),r=t.airlines.length,n=[],a=0;a<t.airlines.length;a+=1)$.getJSON("/flight_search/"+t.airlines[a].code+"?date="+e.date+"&from="+e.from+"&to="+e.to,function(t){for(var a=0;a<t.length;a+=1)n.push(t[a]);0===(r-=1)&&(this.app.results.renderResults(e,n),$("#btn-search-flight").removeAttr("disabled"),this.searching=!1)}.bind(t))}()}},{key:"getQuery",value:function(){return{from:$("#input-airport-from").val().substr(1,3),to:$("#input-airport-to").val().substr(1,3),date:$("#flight-date").val()}}}]),t}();e.default=i},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(e){n(this,t),this.app=e,this.setupTypeaheads(),this.setupDatepicker(),this.setupFormSubmit(),$("#input-airport-from").focus()}return a(t,[{key:"setupTypeaheads",value:function(){$("#input-airport-from").typeahead({onSelect:function(){$("#input-airport-to").focus()},ajax:{url:"/airports?q="+$("#input-airport-from").val(),timeout:500,displayField:"displayField",valueField:"airportCode",triggerLength:3,items:25,method:"GET"}}),$("#input-airport-from").change(function(){this.validateFromAirport()}.bind(this)),$("#input-airport-to").typeahead({onSelect:function(){$("#flight-date").focus()},ajax:{url:"/airports?q="+$("#input-airport-from").val(),timeout:500,displayField:"displayField",valueField:"airportCode",triggerLength:2,method:"GET"}}),$("#input-airport-to").change(function(){this.validateToAirport()}.bind(this))}},{key:"setupDatepicker",value:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate());$("#flight-date").datetimepicker({format:"YYYY-MM-DD",minDate:e}),$("#flight-date").on("dp.hide",function(){$("#btn-search-flight").focus()})}},{key:"setupFormSubmit",value:function(){document.onkeydown=function(){return"13"!==window.event.keyCode||(this.submitForm(),!1)}.bind(this),$("#flight-search-form").on("submit",function(){return this.submitForm(),!1}.bind(this))}},{key:"validateFromAirport",value:function(){var t=!0;return"("===$("#input-airport-from").val()[0]&&")"===$("#input-airport-from").val()[4]?$("#input-airport-from").removeClass("input-error"):(t=!1,$("#input-airport-from").addClass("input-error")),t}},{key:"validateToAirport",value:function(){var t=!0;return"("===$("#input-airport-to").val()[0]&&")"===$("#input-airport-to").val()[4]?$("#input-airport-to").removeClass("input-error"):(t=!1,$("#input-airport-to").addClass("input-error")),t}},{key:"validateDate",value:function(){var t=!0;return""===$("#flight-date").val()?(t=!1,$("#flight-date").addClass("input-error")):$("#flight-date").removeClass("input-error"),t}},{key:"submitForm",value:function(){return this.validateFromAirport()&&this.validateToAirport()&&this.validateDate()&&this.app.api.searchFlights(),!1}}]),t}();e.default=i},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(){function t(e){n(this,t),this.app=e,this.hideResults()}return a(t,[{key:"hideResults",value:function(){$("#loader").hide(),$("#tabs").hide(),$("#results").css("visibility","visible")}},{key:"sortByPrice",value:function(t){return t.sort(function(t,e){return t.price-e.price}),t}},{key:"renderResults",value:function(t,e){var r=this.sortByPrice(e);$("#date1-label").html(moment(t.date).subtract(2,"days").format("MMMM Do YYYY")),$("#date2-label").html(moment(t.date).subtract(1,"days").format("MMMM Do YYYY")),$("#date3-label").html(moment(t.date).format("MMMM Do YYYY")),$("#date4-label").html(moment(t.date).add(1,"days").format("MMMM Do YYYY")),$("#date5-label").html(moment(t.date).add(2,"days").format("MMMM Do YYYY"));for(var n="",a=0;a<r.length;a+=1)n+="\n      <tr>\n        <td><h4>$"+r[a].price+"</h4></td>\n        <td>"+moment(r[a].start.dateTime).format("MMM Do YYYY<br />h:mm a")+"</td>\n        <td>"+r[a].airline.name+"<br />"+r[a].airline.code+" "+r[a].flightNum+"</td>\n        <td>"+r[a].plane.shortName+'</td>\n        <td><button class="btn btn-sm btn-success pull-right">Book Flight</button></td>\n      </tr>\n      ';var i='\n    <p class="sorted-by">(sorted by price ascending)</p>\n      <table class="table table-hover table-condensed table-striped">\n        <tbody>\n          '+n+"\n        </tbody>\n      </table>\n    ";$("#date3").html(i),this.hideLoader(),this.showTabs()}},{key:"showLoader",value:function(){$("#loader").show()}},{key:"showTabs",value:function(){$("#tabs").show()}},{key:"hideLoader",value:function(){$("#loader").hide()}},{key:"hideTabs",value:function(){$("#tabs").hide()}}]),t}();e.default=i},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var a=r(0),i=n(a),o=r(1),u=n(o),s=r(2),l=n(s);$(document).ready(function(){var t={};t.api=new i.default(t),t.results=new l.default(t),t.inputControls=new u.default(t)})}]);