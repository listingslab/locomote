!function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var a={};e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),i=function(){function t(e){n(this,t),this.app=e,this.searching=!1;var a=$.get("/airlines");$.when(a).done(function(t){this.airlines=t}.bind(this))}return r(t,[{key:"searchFlights",value:function(){var t=this;this.searching||function(){t.searching=!0,$("#btn-search-flight").attr("disabled","disabled");var e=t.getQuery();t.app.tabs.startTabs(e);for(var a=t.airlines.length,n=[],r=0;r<t.airlines.length;r+=1)$.getJSON("/flight_search/"+t.airlines[r].code+"?date="+e.date+"&from="+e.from+"&to="+e.to,function(t){for(var e=0;e<t.length;e+=1)n.push(t[e]);0===(a-=1)&&(this.app.table.startTable(n),$("#btn-search-flight").removeAttr("disabled"),this.searching=!1)}.bind(t))}()}},{key:"getQuery",value:function(){return{from:$("#input-airport-from").val().substr(1,3),to:$("#input-airport-to").val().substr(1,3),date:$("#flight-date").val()}}}]),t}();e.default=i},function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),i=function(){function t(e){n(this,t),this.app=e,this.setupTypeaheads(),this.setupDatepicker(),this.setupFormSubmit(),$("#input-airport-from").focus()}return r(t,[{key:"setupTypeaheads",value:function(){$("#input-airport-from").typeahead({onSelect:function(){$("#input-airport-to").focus()},ajax:{url:"/airports?q="+$("#input-airport-from").val(),timeout:500,displayField:"displayField",valueField:"airportCode",triggerLength:3,items:25,method:"GET"}}),$("#input-airport-from").change(function(){this.validateFromAirport()}.bind(this)),$("#input-airport-to").typeahead({onSelect:function(){$("#flight-date").focus()},ajax:{url:"/airports?q="+$("#input-airport-from").val(),timeout:500,displayField:"displayField",valueField:"airportCode",triggerLength:2,method:"GET"}}),$("#input-airport-to").change(function(){this.validateToAirport()}.bind(this))}},{key:"setupDatepicker",value:function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate());$("#flight-date").datetimepicker({format:"YYYY-MM-DD",minDate:e}),$("#flight-date").on("dp.hide",function(){$("#btn-search-flight").focus()})}},{key:"setupFormSubmit",value:function(){document.onkeydown=function(){return"13"!==window.event.keyCode||(this.submitForm(),!1)}.bind(this),$("#flight-search-form").on("submit",function(){return this.submitForm(),!1}.bind(this))}},{key:"validateFromAirport",value:function(){var t=!0;return"("===$("#input-airport-from").val()[0]&&")"===$("#input-airport-from").val()[4]?$("#input-airport-from").removeClass("input-error"):(t=!1,$("#input-airport-from").addClass("input-error")),t}},{key:"validateToAirport",value:function(){var t=!0;return"("===$("#input-airport-to").val()[0]&&")"===$("#input-airport-to").val()[4]?$("#input-airport-to").removeClass("input-error"):(t=!1,$("#input-airport-to").addClass("input-error")),t}},{key:"validateDate",value:function(){var t=!0;return""===$("#flight-date").val()?(t=!1,$("#flight-date").addClass("input-error")):$("#flight-date").removeClass("input-error"),t}},{key:"submitForm",value:function(){return this.validateFromAirport()&&this.validateToAirport()&&this.validateDate()&&this.app.api.searchFlights(),!1}}]),t}();e.default=i},function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),i=function(){function t(e){n(this,t),this.app=e}return r(t,[{key:"startTable",value:function(t){console.log(t[0]);for(var e="",a=0;a<t.length;a+=1)e+="\n      <tr>\n        <td>"+t[a].airline.code+" "+t[a].flightNum+"</td>\n        <td>"+t[a].airline.name+"</td>\n        <td>"+moment(t[a].start.dateTime).format("hh-mm")+"</td>\n        <td>$"+t[a].price+"</td>\n      </tr>\n      ";this.renderTable(e)}},{key:"renderTable",value:function(t){var e='\n      <table class="table table-hover table-bordered table-condensed table-striped">\n        <thead>\n          <tr>\n            <th>Flight Number</th>\n            <th>Airline</th>\n            <th>Departure time</th>\n            <th>Price</th>\n          </tr>\n        </thead>\n        <tbody>\n          '+t+"\n        </tbody>\n      </table>\n    ";$("#date3").html(e)}}]),t}();e.default=i},function(t,e,a){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),i=function(){function t(e){n(this,t),this.app=e}return r(t,[{key:"startTabs",value:function(t){this.clearTabs(),this.date1=moment(t.date).subtract(2,"days").format("MMMM Do YYYY"),this.date2=moment(t.date).subtract(1,"days").format("MMMM Do YYYY"),this.date3=moment(t.date).format("MMMM Do YYYY"),this.date4=moment(t.date).add(1,"days").format("MMMM Do YYYY"),this.date5=moment(t.date).add(2,"days").format("MMMM Do YYYY"),this.renderTabs()}},{key:"renderTabs",value:function(){var t='\n      <ul class="nav nav-tabs" role="tablist">\n        <li role="presentation">\n          <a href="#date1" aria-controls="date1" role="tab" data-toggle="tab">'+this.date1+'</a>\n        </li>\n        <li role="presentation">\n          <a href="#date2" aria-controls="date2" role="tab" data-toggle="tab">'+this.date2+'</a>\n        </li>\n        <li role="presentation" class="active">\n          <a href="#date3" aria-controls="date3" role="tab" data-toggle="tab">'+this.date3+'</a>\n        </li>\n        <li role="presentation">\n          <a href="#date4" aria-controls="date4" role="tab" data-toggle="tab">'+this.date4+'</a>\n        </li>\n        <li role="presentation">\n          <a href="#date5" aria-controls="date5" role="tab" data-toggle="tab">'+this.date5+'</a>\n        </li>\n      </ul>\n\n      <div class="tab-content">\n        <div role="tabpanel" class="tab-pane fade" id="date1">\n          <img\n            src="img/loader.gif"\n            class="loader"\n          />\n        </div>\n        <div role="tabpanel" class="tab-pane fade" id="date2">\n          <img\n            src="img/loader.gif"\n            class="loader"\n          />\n        </div>\n        <div role="tabpanel" class="tab-pane fade in active" id="date3">\n          <img\n            src="img/loader.gif"\n            class="loader"\n          />\n        </div>\n        <div role="tabpanel" class="tab-pane fade" id="date4">\n          <img\n            src="img/loader.gif"\n            class="loader"\n          />\n        </div>\n        <div role="tabpanel" class="tab-pane fade" id="date5">\n          <img\n            src="img/loader.gif"\n            class="loader"\n          />\n        </div>\n      </div>\n    ';$("#tabs").html(t)}},{key:"clearTabs",value:function(){$("#search-results").html("")}}]),t}();e.default=i},function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=a(0),i=n(r),o=a(1),l=n(o),s=a(2),u=n(s),d=a(3),c=n(d);$(document).ready(function(){var t={};t.api=new i.default(t),t.table=new u.default(t),t.tabs=new c.default(t),t.inputControls=new l.default(t)})}]);